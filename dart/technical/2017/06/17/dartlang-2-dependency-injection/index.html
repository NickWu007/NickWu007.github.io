<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v7.5.1 <https://qwtel.com/hydejack/>
--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Dartlang #2: Dependency Injection | DevPractical</title><meta property="og:title" content="Dartlang #2: Dependency Injection" /><meta name="author" content="nickwu0715" /><meta property="og:locale" content="en" /><meta name="description" content="Welcome back! The first post turned out to be the most viewed post on this site, I am so grateful and motivated to keep this going. So here we go, dependency injection!" /><meta property="og:description" content="Welcome back! The first post turned out to be the most viewed post on this site, I am so grateful and motivated to keep this going. So here we go, dependency injection!" /><link rel="canonical" href="https://nickwu007.github.io/dart/technical/2017/06/17/dartlang-2-dependency-injection/" /><meta property="og:url" content="https://nickwu007.github.io/dart/technical/2017/06/17/dartlang-2-dependency-injection/" /><meta property="og:site_name" content="DevPractical" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-06-17T21:07:44+01:00" /> <script type="application/ld+json"> {"name":null,"description":"Welcome back! The first post turned out to be the most viewed post on this site, I am so grateful and motivated to keep this going. So here we go, dependency injection!","author":{"@type":"Person","name":"nickwu0715"},"@type":"BlogPosting","url":"https://nickwu007.github.io/dart/technical/2017/06/17/dartlang-2-dependency-injection/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://nickwu007.github.io/assets/icons/icon.png"},"name":"nickwu0715"},"image":null,"headline":"Dartlang #2: Dependency Injection","dateModified":"2017-06-17T21:07:44+01:00","datePublished":"2017-06-17T21:07:44+01:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://nickwu007.github.io/dart/technical/2017/06/17/dartlang-2-dependency-injection/"},"@context":"http://schema.org"}</script><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="DevPractical"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="application-name" content="DevPractical"><meta name="msapplication-config" content="/assets/ieconfig.xml"><meta name="theme-color" content="#268bd2"><meta name="generator" content="Hydejack v7.5.1"><link type="application/atom+xml" rel="alternate" href="https://nickwu007.github.io/feed.xml" title="DevPractical" /><link rel="alternate" href="https://nickwu007.github.io/dart/technical/2017/06/17/dartlang-2-dependency-injection/" hreflang="en"><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon.png"><link rel="manifest" href="/assets/manifest.json"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"><link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <script> function stdOnEnd(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function ieOnEnd(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}window.setRelStylesheet=function(n){function e(){this.rel="stylesheet"}var o=document.getElementById(n);o.addEventListener?o.addEventListener("load",e,!1):o.onload=e},window._loaded=!1,window.loadJSDeferred=function(n,e){function o(){window._loaded=!0;var o=document.createElement("script");o.src=n,e&&(("onload"in o?stdOnEnd:ieOnEnd)(o,e),o.onload||stdOnEnd(o,e));var t=document.scripts[0];t.parentNode.insertBefore(o,t)}window._loaded?o():window.addEventListener?window.addEventListener("load",o,!1):window.onload=o}; !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window._noPushState = false; window._noDrawer = false; </script> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: ['Roboto+Slab:700','Noto+Sans:400,400i,700,700i'] }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; (function(d) { var wf = d.createElement('script'), s = d.scripts[0]; wf.src = "/assets/bower_components/webfontloader/webfontloader.js"; s.parentNode.insertBefore(wf, s); }(document)); </script> <!--<![endif]--> <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i"><style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif }</style><link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--[if gt IE 8]><!----><style> *{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:#444;background-color:#fff;overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}.content img,.img{display:block;max-width:100%;margin-bottom:1rem;border:none}.content img.lead,.img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-weight:700;margin:4rem 0 1rem}.heading{font-weight:700}h1,.h1{font-size:2rem;line-height:1.3}h2,.h2{font-size:1.5rem;line-height:1.4}h3,.h3{font-size:1.17em;line-height:1.5}p{margin-top:0;margin-bottom:1rem}p.lead{padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee}strong{font-weight:700}.hr{border-bottom:1px solid #eee;padding-bottom:1rem;margin-bottom:2rem}h4,h5,h6,.h4,.h5,.h6{margin-bottom:0.5rem;font-size:1rem}table:not(.highlight){border-collapse:collapse;margin-bottom:2rem;margin-left:-1rem}table:not(.highlight) td,table:not(.highlight) th{padding:.25rem .5rem;border:1px solid #eee}table:not(.highlight) td:first-child,table:not(.highlight) th:first-child{padding-left:1rem}table:not(.highlight) td:last-child,table:not(.highlight) th:last-child{padding-right:1rem}.page{margin-bottom:3em}.page li+li{margin-top:.25rem}.page>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#888}.related-posts{padding-left:0;list-style:none;margin-bottom:2rem}.related-posts>li,.related-posts>li+li{margin-top:1rem}.message{margin-bottom:1rem;padding:1rem;color:#666;background-color:rgba(0,0,0,0.025);margin-left:-1rem;margin-right:-1rem}@media screen{body::before{content:'';width:.5rem;background:#eee;position:absolute;left:0;top:0;bottom:0}}@media screen and (min-width: 42em){html{font-size:17px}}@media screen and (min-width: 125em){html{font-size:18px}}hy-push-state a,.a{position:relative;padding-bottom:.15rem;border-bottom:1px solid}.content .img{overflow:hidden;background-color:rgba(0,0,0,0.025)}.content .img img{margin:0;width:100%;height:100%}.fade-in{animation-duration:500ms;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-3rem);opacity:0}50%{transform:translateY(-3rem);opacity:0}to{transform:translateY(0);opacity:1}}.fl{float:left}.fr{float:right}.mb4{margin-bottom:4rem}.mb6{margin-bottom:6rem}.mt0{margin-top:0}.mt4{margin-top:4rem}.pb0{padding-bottom:0}.clearfix,.sidebar-social::after,.clearafter::after{content:"";display:table;clear:both}.sr-only{display:none}.sidebar{color:rgba(255,255,255,0.75);text-align:left}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}hy-drawer{position:relative;padding:1rem 0}@media screen{hy-drawer{padding:2rem 1rem}}@media screen and (min-width: 64em){hy-drawer{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}@media screen and (min-width: 98.5em){hy-drawer{width:calc(50% - 28rem)}}.sidebar-bg{position:absolute;top:0;right:0;bottom:0;left:0;background:#202020 center / cover}.sidebar-bg::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.05)}.sidebar-bg.sidebar-overlay::after{background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}.sidebar-sticky{position:relative;z-index:3}@media screen{.sidebar-sticky{position:absolute;right:1.5rem;left:1.5rem;bottom:1rem}}@media screen and (min-width: 98.5em){.sidebar-sticky{left:auto;width:15rem}}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav>ul{list-style:none;padding-left:0;margin-bottom:.5rem}a.sidebar-nav-item{display:block;font-weight:700;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}.sidebar-social{margin-bottom:.5rem}.sidebar-social>ul{list-style:none;padding-left:0}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.5rem;width:3rem;height:3.5rem;padding:0}.sidebar-social>ul li+li{margin-top:0}.fixed-top{position:fixed;top:0;left:0;width:100%;z-index:2}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;height:0;color:#888}.nav-btn-bar{margin-left:-.875rem}.nav-btn{display:inline-block;padding:1.75rem .875rem;border-bottom:none;color:#888 !important}@media screen and (min-width: 64em){#_menu{position:absolute;left:-9999px}}.content{position:relative;margin-left:auto;margin-right:auto;padding:5rem 1rem 12rem}@media screen{.content{padding-left:1.5rem;max-width:38rem;min-height:100vh}}@media screen and (min-width: 54em){.content{max-width:42rem}}@media screen and (min-width: 64em){.content{margin-left:22rem;margin-right:4rem;padding-left:1rem}}@media screen and (min-width: 90em){.content{max-width:48rem}}@media screen and (min-width: 98.5em){.content{margin:auto}}.avatar{float:right;width:6.5rem;height:6.5rem;border-radius:100%;margin-left:.5rem}@media screen and (min-width: 42em){.avatar{width:7rem;height:7rem}}html{font-family:Helvetica, Arial, sans-serif}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:Helvetica, Arial, sans-serif}</style><link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack-7.5.1.css"> <script>window.setRelStylesheet('_stylePreload');</script> <noscript><link rel="stylesheet" href="/assets/css/hydejack-7.5.1.css"></noscript><style id="_pageStyle"> .content a:not(.btn){color:#268bd2;border-color:rgba(38,139,210,0.2)}.content a:not(.btn):hover{border-color:#268bd2}:focus{outline-color:#268bd2}.btn-primary{color:#fff;background-color:#268bd2;border-color:#268bd2}.btn-primary:focus,.btn-primary.focus{box-shadow:0 0 0 3px rgba(38,139,210,0.5)}.btn-primary:hover,.btn-primary.hover{color:#fff;background-color:#2076b2;border-color:#2076b2}.btn-primary:disabled,.btn-primary.disabled{color:#fff;background-color:#268bd2;border-color:#268bd2}.btn-primary:active,.btn-primary.active{color:#fff;background-color:#2076b2;border-color:#2076b2}::selection{color:#fff;background:#268bd2}::-moz-selection{color:#fff;background:#268bd2}</style><!--<![endif]--><body><div class="navbar fixed-top"><div class="content"><div class="nav-btn-bar"> <span class="sr-only">Jump to:</span> <a id="_menu" class="nav-btn no-hover" href="#_navigation"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a></div></div></div><hy-push-state><main id="_main" class="content fade-in layout-post" role="main" data-color="#268bd2" data-theme-color="" data-image="/assets/images/sidebar.jpg" data-overlay ><article id="post-dart-technical-2017-06-17-dartlang-2-dependency-injection" class="page post" role="article"><header><h1 class="post-title"> Dartlang #2: Dependency Injection</h1><p class="post-date heading"> <time datetime="2017-06-17T21:07:44+01:00">17 Jun 2017</time> in <a href="/category/dart/" class="flip-title">Dart</a> / <a href="/category/technical/" class="flip-title">Technical</a><div class="hr pb0"></div></header><p>Welcome back! The first post turned out to be the most viewed post on this site, I am so grateful and motivated to keep this going. So here we go, dependency injection!<p><img src="https://nickwuedinburgh.files.wordpress.com/2017/06/what-is-dependency-injection.jpg" alt="what-is-dependency-injection" /><h3 id="what-is-it">What is it?</h3><p>In first glance, the phase sounds fancy and sort of hard to grasp, so I have laid out a route to make this easier.<h4 id="whats-a-dependency">What’s a dependency?</h4><p>This part should be relatively easy to grasp. Say you are a carpenter, and you need a chisel to make a sculpture, then it can be said that you have a “dependency” on the chisel. Moving back to a web programming context. A simple example would be a front end event handler needs some database object to fetch user data, then the handler has a dependency on the database object. So far so good?<h4 id="whats-injection">What’s injection?</h4><p>Now that we have the notion of dependency clear, let’s think about how we usually establish them. The easiest way is to have it as a property and instantiate a new object in constructor, such as:<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Carpenter</span> <span class="o">{</span>

    <span class="c1">// Dependent object</span>
    <span class="n">private</span> <span class="n">Chisel</span> <span class="n">chisel</span><span class="o">;</span>
    
    <span class="n">public</span> <span class="n">Carpenter</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">chisel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chisel</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="n">makeSculpture</span><span class="o">()</span> <span class="o">{</span>
    
        <span class="o">...</span>
        
        <span class="c1">// Use the dependency</span>
        <span class="k">this</span><span class="o">.</span><span class="na">chisel</span><span class="o">.</span><span class="na">apply</span><span class="o">();</span>
    
    <span class="o">}</span>
    
<span class="o">}</span>
</code></pre></div></div><p>Now this code has no dependency injection, because the dependency is actually established by the object that holds the dependency. What if the dependency object, aka the chisel, is given to you somehow when you are constructing the <code class="highlighter-rouge">Carpenter</code> object? In other words, what if your constructor looks like this:<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">public</span> <span class="nf">Carpenter</span><span class="p">(</span><span class="n">Chisel</span> <span class="n">chisel</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">chisel</span> <span class="o">=</span> <span class="n">chisel</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div><p>This way the dependency object is supplied by some other party, and we can say those party <strong>injects</strong> the dependency into <code class="highlighter-rouge">Carpenter</code>. This is essentially what dependency injection is.<h3 id="why-bother">Why bother?</h3><p>Let’s take a look back at what we did. We changed <code class="highlighter-rouge">chisel = new Chisel();</code> in the constructor into a parameter, and we would need some third party to inject this when we instantiate a new <code class="highlighter-rouge">Carpenter</code>. Sounds kind of overly complex right? Well it turns out there are a few good reasons why.<h4 id="flexibility">Flexibility</h4><p>There’s one important principle what drives the creation of dependency injection, called the <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">Dependency Inversion Principle</a>. What it states basically is you want to depend on abstractions, not specific classes. Imagine the <code class="highlighter-rouge">Chisel</code> in the example above is an interface, then the injecting party can supply any kind of chisel to a carpenter, each for different job, without changing any code in <code class="highlighter-rouge">Carpenter</code>. This is sometimes referred to as “loose coupling”, and it gives <code class="highlighter-rouge">Carpenter</code> flexibility in its behaviors, without needing to modify the class itself.<h4 id="modularity">Modularity</h4><p>Since we can extract implementation from interface, we are inherently given more modularity. This is an obvious point, but nevertheless important in software engineering.<h4 id="testability">Testability</h4><p>Dependency injection can also help testing. You can basically inject different implementations to the same object, and test its behavior. No need to write tests like <code class="highlighter-rouge">testWoodChiselWorks()</code> and <code class="highlighter-rouge">testStoneChiselWorks()</code>, which will have 80% code exactly the same. Simply compose a map of implementations to their expected  behaviors and loop it though in one fixed test framework. Ezpz.<h3 id="di-in-action-angulardart">DI in action: AngularDart</h3><p>So far we know what dependency injection is, and why it is a good pattern to use, but there are still two problems: a) how to use them, in AngularDart specifically, and b) what about this third party object that’s responsible for all the injecting? In this section we will see how DI is used usually, and why injecting thing is not a worry.<h4 id="standard-di-model">Standard DI model</h4><p>Let’s take a look at an example from the <a href="https://webdev.dartlang.org/angular/guide/dependency-injection#!#angular-dependency-injection">official site</a>:<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Dependency object</span>
<span class="kn">import</span> <span class="s">'package:angular2/angular2.dart'</span><span class="o">;</span>

<span class="kn">import</span> <span class="s">'hero.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'mock_heroes.dart'</span><span class="o">;</span>

<span class="nd">@Injectable</span><span class="o">()</span>
<span class="kd">class</span> <span class="nc">HeroService</span> <span class="o">{</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span> <span class="n">getHeroes</span><span class="o">()</span> <span class="o">=&gt;</span> <span class="n">HEROES</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div><p>Notice a special annotation before the class declaration: <code class="highlighter-rouge">@Injectable()</code>. This marks the class as something to be injected with. In terms of how exactly it is injected, we will talk about it in a bit.<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

<span class="c1">// Dependent object</span>
<span class="kn">import</span> <span class="s">'package:angular2/angular2.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'hero.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'hero_service.dart'</span><span class="o">;</span>
<span class="nd">@Component</span><span class="o">(</span>
  <span class="nl">selector:</span> <span class="s">'hero-list'</span><span class="o">,</span>
  <span class="nl">template:</span> <span class="s">'&lt;div&gt; - &lt;/div&gt;
'</span>

<span class="o">,</span>
  <span class="nl">directives:</span> <span class="kd">const</span> <span class="o">[</span><span class="n">CORE_DIRECTIVES</span><span class="o">],</span>
  <span class="nl">providers:</span> <span class="kd">const</span> <span class="o">[</span><span class="n">HeroService</span><span class="o">],</span>
<span class="o">)</span>
<span class="kd">class</span> <span class="nc">HeroListComponent</span> <span class="o">{</span>
  <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span> <span class="n">heroes</span><span class="o">;</span>
  <span class="n">HeroListComponent</span><span class="o">(</span><span class="n">HeroService</span> <span class="n">heroService</span><span class="o">)</span> <span class="o">:</span> <span class="n">heroes</span> <span class="o">=</span> <span class="n">heroService</span><span class="o">.</span><span class="na">getHeroes</span><span class="o">();</span>
<span class="o">}</span>

</code></pre></div></div><p>We see clearly the <code class="highlighter-rouge">HeroService</code> is to be injected as a parameter in the constructor, exactly the same in our Carpenter example. Ok so let’s address the problem: who does the injecting? The answer is nobody, in a sense. As a programmer, you won’t need to write a single line of code to do the injection, it is done for you by dart automatically. You may say “that’s very cool for dart, but how does it know what to inject into what?” This is where the <code class="highlighter-rouge">@Injectable()</code> comes to play. If a class has this annotation, it tells the dart VM that “I am an injectable thing, feel free to plug me in if someone needs me.” There’s a question about the injectable itself too, how is it instantiated? Normal <code class="highlighter-rouge">new</code> method, factory, or singleton? Turns out you can choose either one. For the sake of understanding I will not go into too much detail about this, but you can read about it online easily. Ok so we settled the first bit, now where to inject into? There are two signs a class can tell the VM to inject something into itself. One is by listing it in the constructor, and the other is in the metadata. Note the line that says <code class="highlighter-rouge">providers: const [HeroService],</code>. This is saying “I need this HeroSerive thing injected for me” loud and clear. This the VM knows to inject it into the component, and in the component you just use it normally. Magical.<h3 id="conclusion">Conclusion</h3><p>So that is dependency injection. As I mentioned earlier we won’t be using this too much in our project, since we don’t really need a backend and we can just fetch directly from the database. In case this post doesn’t do it job, here are some more resources to help:<ul><li><p><a href="https://webdev.dartlang.org/angular/guide/dependency-injection#!#angular-dependency-injection">DI tour in darling official site</a><li><p><a href="https://en.wikipedia.org/wiki/Dependency_injection">Wikipedia</a><li><p><a href="http://brandonclapp.com/what-is-dependency-injection-and-why-is-it-useful/">a similar blog post about DI concept</a><li><p><a href="https://stackoverflow.com/questions/130794/what-is-dependency-injection">a StackOverflow post</a><li><p><a href="https://www.youtube.com/watch?v=IKD2-MAkXyQ">a nice YouTube video that gives visual aid</a> Next week we will actually start our project. First thing will be requirement capture and UI mock up. See you next week!</ul></article><hr class="dingbat related" /><h1>Comments</h1><div id="disqus_thread"></div><script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { // DON'T EDIT BELOW THIS LINE var d = document, s = d.createElement('script'); s.src = 'https://devpractical.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <script id="dsq-count-scr" src="//devpractical.disqus.com/count.js" async></script><aside class="related mb4" role="complementary"><h2 class="hr">Related Posts</h2><ul class="related-posts"><li> <a href="/dart/technical/2018/03/29/teamoji-wrap-up-connecting-firebase-database/" class="h4 flip-title"> <span>Teamoji wrap-up: connecting Firebase database</span> </a> <time class="heading faded fine" datetime="2018-03-29T11:37:00+01:00">29 Mar 2018</time><li> <a href="/dart/technical/2018/03/19/teamoji-9-entering-firebase/" class="h4 flip-title"> <span>Teamoji #9 Entering Firebase</span> </a> <time class="heading faded fine" datetime="2018-03-19T22:21:00+00:00">19 Mar 2018</time><li> <a href="/dart/technical/2018/01/08/dart-8-homepage-part-2/" class="h4 flip-title"> <span>Dart #8: homepage part 2</span> </a> <time class="heading faded fine" datetime="2018-01-08T03:32:35+00:00">08 Jan 2018</time></ul></aside><footer role="contentinfo"><hr/><p><small class="copyright">© 2018. All rights reserved. </small><p><small>Powered by <a class="external" href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">7.5.1</span></small><hr class="sr-only"/></footer></main><hy-drawer><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:#268bd2;background-image:url(/assets/images/sidebar.jpg)"></div><div class="sidebar-sticky"><div class="sidebar-about"><h2 class="h1"><a href="/">DevPractical</a></h2><p class=""> Made by Nick Wu</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li> <a id="_navigation" href="/category/dart/" class="sidebar-nav-item" > Dart </a><li> <a href="/category/technical/" class="sidebar-nav-item" > Technical </a><li> <a href="/category/non-technical/" class="sidebar-nav-item" > Non-Technical </a><li> <a href="/category/life/" class="sidebar-nav-item" > Life </a><li> <a href="/about/" class="sidebar-nav-item" > About Me </a></ul></nav><div class="sidebar-social"> <span class="sr-only">Social</span><ul><li> <a href="https://twitter.com/WujunaoNick" title="Twitter" class="no-mark-external"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a><li> <a href="https://github.com/NickWu007" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:wujunao19950715@gmail.com" title="email" class="no-mark-external"> <span class="icon-link"></span> <span class="sr-only">email</span> </a></ul></div></div></header></hy-drawer> </hy-push-state> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack-7.5.1.js');</script> <!--<![endif]--><hr class="sr-only"/><h2 class="sr-only">Templates:</h2><template id="_animation-template"><div class="animation-main fixed-top"><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template"><div class="loading"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template"><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading: <a class="this-link" href=""></a>.</div></template> <template id="_back-template"> <a id="_back" class="back nav-btn no-hover"> <span class="sr-only">Back</span> <span class="icon-arrow-left2"></span> </a> </template> <template id="_permalink-template"> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="icon-link"></span> </a> </template> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106129727-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-106129727-2'); </script></html>
